<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>面向对象</title>
</head>
<body>
    
    <script>
        
        // function Animal(name,age){
        //     this.name = name
        //     this.age = age
        // }

        // var cat = new Animal('加菲猫',3)
        // console.log(cat)

        // ES6 面向对象
        class Person {
            constructor(name,age,sex){
                this.name = name
                this.age = age
                this.sex = sex
            }

            // 实例方法
            sayhello(){
                return "I'm " + this.name +' ----- '+ this.age
            }
        }

        // 子类 中国人
        class Chinese extends Person{
            constructor(name,age,sex,IDnumber){
                // super 必须在函数第一行被调用
                super(name,age,sex)
                // 在子类中 this 只能放在super之后使用
                this.IDnumber = IDnumber
            }
        }
        var personA = new Chinese('小明',12,'boy','420321')
        console.group('中国人  ----------- ')
        console.log(personA,'-----')
        console.log(personA.sayhello())
        console.groupEnd()
        // 子类 美国人
        class Aferica extends Person{

        }
        var personB = new Aferica('小黑',13,'gorl')
        console.group('非洲人 ----------')
        console.log(personB)
        console.log(personB.sayhello())
        console.groupEnd()

        //  构造函数面向对象
        function Car(brand,placrOrigin,price){
            this.brand = brand;
            this.placrOrigin = placrOrigin;
            this.price = price;
            this.run = function(){
                '这是 '+this.brand + ' 品牌的汽车，产自 '+ this.placrOrigin+',跑得很快'
            }
        }

        let bmw = new Car('BMW','German','20万')
        console.log(bmw)
        console.dir(bmw)
        console.dir(Car)



        // 原型链继承   =====================================
        function Animal(name) {
            // 属性
            this.name = name || 'Animal';
            // 实例方法
            this.sleep = function () {
                console.log(this.name + '正在睡觉！');
            }
        }
        // 原型方法
        Animal.prototype.eat = function (food) {
            console.log(this.name + '正在吃：' + food);
        };


        // 子类
        // 核心： 将父类的实例作为子类的原型
        function Cat(){}
        Cat.prototype = new Animal();
        Cat.prototype.name = 'cat';
        
        //　Test Code
        var cat = new Cat();
        cat.eat('小鱼');
        cat.sleep();
        console.log(cat instanceof Animal); //true
        console.log(cat instanceof Cat); //true

    
    </script>
</body>
</html>